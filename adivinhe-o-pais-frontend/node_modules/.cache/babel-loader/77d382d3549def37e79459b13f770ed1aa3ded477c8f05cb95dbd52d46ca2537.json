{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\WKVAIO\\\\Documents\\\\GitHub\\\\adivinhe-o-pais-n1-backend-2\\\\adivinhe-o-pais-frontend\\\\src\\\\components\\\\Jogo.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport styles from './Jogo.module.css'; // 1. Importamos nosso arquivo de estilo\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Jogo() {\n  _s();\n  const [pergunta, setPergunta] = useState(null);\n  const [placar, setPlacar] = useState({\n    score: 0,\n    vidas: 3\n  });\n  const [feedback, setFeedback] = useState('');\n  const [carregando, setCarregando] = useState(true);\n  const buscarPergunta = useCallback(async () => {\n    setCarregando(true);\n    setFeedback(''); // Limpa o feedback ao buscar nova pergunta\n    try {\n      const response = await axios.get('http://localhost:3000/jogo/pergunta', {\n        withCredentials: true\n      });\n      setPergunta(response.data);\n      // O placar inicial já é definido no useState e atualizado pelo 'handleResposta'\n    } catch (error) {\n      console.error(\"Deu ruim pra buscar a pergunta!\", error);\n      setFeedback('Erro ao conectar com o servidor. Tente recarregar a página.');\n    } finally {\n      setCarregando(false);\n    }\n  }, []);\n  useEffect(() => {\n    buscarPergunta();\n  }, [buscarPergunta]);\n  const handleResposta = async respostaDoUsuario => {\n    if (carregando) return;\n    setCarregando(true);\n    try {\n      const response = await axios.post('http://localhost:3000/jogo/responder', {\n        sua_resposta: respostaDoUsuario\n      }, {\n        withCredentials: true\n      });\n      const resultado = response.data;\n      setPlacar({\n        score: resultado.score,\n        vidas: resultado.vidas\n      });\n      if (resultado.resultado === 'correto') {\n        setFeedback('Certa resposta! ✅');\n      } else {\n        setFeedback(`Errado! A resposta era ${resultado.resposta_certa}. ❌`);\n      }\n      if (resultado.mensagem) {\n        setTimeout(() => {\n          alert(resultado.mensagem);\n          buscarPergunta(); // Busca uma nova pergunta para reiniciar o jogo\n        }, 2000);\n      } else {\n        setTimeout(() => {\n          buscarPergunta();\n        }, 2000);\n      }\n    } catch (error) {\n      console.error(\"Deu ruim pra enviar a resposta!\", error);\n      setFeedback('Erro ao conectar com o servidor.');\n      setCarregando(false);\n    }\n  };\n  if (!pergunta && carregando) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Carregando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 16\n    }, this);\n  }\n  if (!pergunta) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"N\\xE3o foi poss\\xEDvel carregar o jogo. Verifique se a API est\\xE1 no ar.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 16\n    }, this);\n  }\n\n  // 2. Aplicamos as classes usando o objeto 'styles'\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.placar,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Pontos: \", placar.score]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Vidas: \", placar.vidas, \" \\u2764\\uFE0F\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.pergunta,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: pergunta.pergunta\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), pergunta.dica_extra && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"em\", {\n          children: [\"Dica: \", pergunta.dica_extra]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 41\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), feedback && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.feedback,\n      children: feedback\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.opcoes,\n      children: pergunta.opcoes.map((opcao, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.botaoOpcao,\n        onClick: () => handleResposta(opcao),\n        disabled: carregando,\n        children: opcao\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n}\n_s(Jogo, \"1HSyIoVIstSsz5swyCE2EcuEXJs=\");\n_c = Jogo;\nexport default Jogo;\nvar _c;\n$RefreshReg$(_c, \"Jogo\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","styles","jsxDEV","_jsxDEV","Jogo","_s","pergunta","setPergunta","placar","setPlacar","score","vidas","feedback","setFeedback","carregando","setCarregando","buscarPergunta","response","get","withCredentials","data","error","console","handleResposta","respostaDoUsuario","post","sua_resposta","resultado","resposta_certa","mensagem","setTimeout","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","className","container","dica_extra","opcoes","map","opcao","index","botaoOpcao","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/WKVAIO/Documents/GitHub/adivinhe-o-pais-n1-backend-2/adivinhe-o-pais-frontend/src/components/Jogo.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport styles from './Jogo.module.css'; // 1. Importamos nosso arquivo de estilo\r\n\r\nfunction Jogo() {\r\n    const [pergunta, setPergunta] = useState(null);\r\n    const [placar, setPlacar] = useState({ score: 0, vidas: 3 });\r\n    const [feedback, setFeedback] = useState('');\r\n    const [carregando, setCarregando] = useState(true);\r\n\r\n    const buscarPergunta = useCallback(async () => {\r\n        setCarregando(true);\r\n        setFeedback(''); // Limpa o feedback ao buscar nova pergunta\r\n        try {\r\n            const response = await axios.get('http://localhost:3000/jogo/pergunta', { withCredentials: true });\r\n            setPergunta(response.data);\r\n            // O placar inicial já é definido no useState e atualizado pelo 'handleResposta'\r\n        } catch (error) {\r\n            console.error(\"Deu ruim pra buscar a pergunta!\", error);\r\n            setFeedback('Erro ao conectar com o servidor. Tente recarregar a página.');\r\n        } finally {\r\n            setCarregando(false);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        buscarPergunta();\r\n    }, [buscarPergunta]);\r\n\r\n    const handleResposta = async (respostaDoUsuario) => {\r\n        if (carregando) return;\r\n\r\n        setCarregando(true);\r\n        try {\r\n            const response = await axios.post('http://localhost:3000/jogo/responder', \r\n                { sua_resposta: respostaDoUsuario },\r\n                { withCredentials: true }\r\n            );\r\n\r\n            const resultado = response.data;\r\n            setPlacar({ score: resultado.score, vidas: resultado.vidas });\r\n\r\n            if (resultado.resultado === 'correto') {\r\n                setFeedback('Certa resposta! ✅');\r\n            } else {\r\n                setFeedback(`Errado! A resposta era ${resultado.resposta_certa}. ❌`);\r\n            }\r\n\r\n            if (resultado.mensagem) {\r\n                setTimeout(() => {\r\n                    alert(resultado.mensagem);\r\n                    buscarPergunta(); // Busca uma nova pergunta para reiniciar o jogo\r\n                }, 2000);\r\n            } else {\r\n                setTimeout(() => {\r\n                    buscarPergunta();\r\n                }, 2000);\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error(\"Deu ruim pra enviar a resposta!\", error);\r\n            setFeedback('Erro ao conectar com o servidor.');\r\n            setCarregando(false);\r\n        }\r\n    };\r\n\r\n    if (!pergunta && carregando) {\r\n        return <div>Carregando...</div>;\r\n    }\r\n\r\n    if (!pergunta) {\r\n        return <div>Não foi possível carregar o jogo. Verifique se a API está no ar.</div>;\r\n    }\r\n\r\n    // 2. Aplicamos as classes usando o objeto 'styles'\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.placar}>\r\n                <p>Pontos: {placar.score}</p>\r\n                <p>Vidas: {placar.vidas} ❤️</p>\r\n            </div>\r\n            <div className={styles.pergunta}>\r\n                <h2>{pergunta.pergunta}</h2>\r\n                {pergunta.dica_extra && <p><em>Dica: {pergunta.dica_extra}</em></p>}\r\n            </div>\r\n            \r\n            {feedback && <div className={styles.feedback}>{feedback}</div>}\r\n\r\n            <div className={styles.opcoes}>\r\n                {pergunta.opcoes.map((opcao, index) => (\r\n                    <button \r\n                        key={index}\r\n                        className={styles.botaoOpcao}\r\n                        onClick={() => handleResposta(opcao)}\r\n                        disabled={carregando}\r\n                    >\r\n                        {opcao}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Jogo;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}